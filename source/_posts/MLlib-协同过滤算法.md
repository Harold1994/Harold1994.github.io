---
title: MLlib----协同过滤算法
date: 2018-05-06 23:48:26
tags: [MLib, 大数据, 机器学习, 协同过滤]
---

协同过滤算法是最常用的推荐算法,主要有两种形式:基于用户和基于物品的推荐算法.

ALS(alternate least square)是交替最小二乘法的简称,也是MLlib的基础推荐算法.

**一. 协同过滤**

协同过滤算法是一种基于群体用户或物品的典型推荐算法,主要有两种:

> - 通过考察具有相同爱好的用户对相同物品的评分标准进行计算
> - 考察具有相同特质的物品从而推荐给选择了某件物品的用户

不足:

> * 基于用户: 针对热点物品的处理不够准确,一些常用的物品其推荐结果往往排在首位,但是这样没有实际意义.其次,数据量大,计算费事

> * 基于物品: 存在推荐同类物品的问题

**二. 相似度度量**

* 基于欧几里德距离的相似度计算

  欧式距离表示空间中两个点的真实距离,![img](https://gss2.bdstatic.com/-fo3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D272/sign=824f524b36292df593c3ab128e305ce2/9e3df8dcd100baa1dbb0d0df4b10b912c8fc2e31.jpg),在相似度计算中,不同的物品或用户可将其定义成不同的坐标点,特定目标定位成坐标原点.因为欧式距离越大,相近度越小,因此一般以`1/(ρ+1)`作为相似度近似值

* 基于余弦角度的相似度

  余弦相似度通过计算两个向量的夹角余弦值来评估他们的相似度

  ![img](https://gss0.bdstatic.com/-4o3dSag_xI4khGkpoWK1HF6hhy/baike/c0%3Dbaike80%2C5%2C5%2C80%2C26/sign=ff93f325064f78f0940692a118586130/e850352ac65c1038573da3b3b7119313b07e897b.jpg)

计算公式:![img](https://gss3.bdstatic.com/-Po3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D187/sign=50b538a78244ebf869716037eef8d736/0df431adcbef760970e3983b2bdda3cc7dd99ead.jpg)

余弦值大小在[-1,1],值大小与夹角成正比

* 欧式距离相似度与余弦相似度比较

欧式相似度以目标绝对距离作为衡量标准,余弦相似度以目标差异大小作为衡量标准.余弦相似度更多的目标的方向趋势上区分,而随特定坐标数字不敏感.

* 余弦相似度实战

  步骤:

  a. 输入数据

  b.建立相似度算法公式

  c.计算不同用户之间的相似度
